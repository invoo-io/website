/**
 * Custom Component Styles
 *
 * This file contains custom component classes including:
 * - Blog content styling
 * - Gradient utilities
 * - Accessibility utilities
 */

@layer utilities {
  /* Screen reader only - for accessibility */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  .gradient-hero-text {
    background: var(--gradient-hero);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    display: inline-block;
  }

  /* Blog Content Styling - Uses typography system tokens
   *
   * The :not(.not-prose *) selector allows custom MDX components
   * (InfoCard, KeyTakeaways, Accordion, etc.) to opt-out of blog
   * prose styling by wrapping content with .not-prose class.
   */
  .blog-content {

    /* Paragraphs: text-body with extended line-height for readability - exclude .not-prose descendants */
    & p:not(.not-prose *) {
      font-family: var(--font-inter);
      font-size: var(--text-body-size);
      font-weight: var(--text-body-weight);
      letter-spacing: var(--text-body-tracking);
      line-height: 1.65; /* Balanced for readability without excessive spacing */
      color: var(--label-secondary);
      margin-bottom: 1.5rem; /* Increased for better breathing room */
    }

    /* h1: text-title1-emphasized */
    & h1 {
      font-family: var(--font-inter);
      font-size: var(--text-title1-size);
      font-weight: var(--text-title1-emphasized-weight);
      letter-spacing: var(--text-title1-tracking);
      line-height: var(--text-title1-leading);
      color: var(--label-primary);
      margin-top: 2.5rem;
      margin-bottom: 1.25rem;
    }

    /* h2: text-title2-emphasized */
    & h2 {
      font-family: var(--font-inter);
      font-size: var(--text-title2-size);
      font-weight: var(--text-title2-emphasized-weight);
      letter-spacing: var(--text-title2-tracking);
      line-height: var(--text-title2-leading);
      color: var(--label-primary);
      margin-top: 3rem; /* Increased for clearer section breaks */
      margin-bottom: 1.5rem;
      scroll-margin-top: 6rem; /* For anchor links with sticky header */
    }

    /* h3: text-title3-emphasized - exclude .not-prose descendants */
    & h3:not(.not-prose *) {
      font-family: var(--font-inter);
      font-size: var(--text-title3-size);
      font-weight: var(--text-title3-emphasized-weight);
      letter-spacing: var(--text-title3-tracking);
      line-height: var(--text-title3-leading);
      color: var(--label-primary);
      margin-top: 2.5rem; /* Increased for better separation */
      margin-bottom: 1rem;
      scroll-margin-top: 6rem;
    }

    /* h4: text-headline */
    & h4 {
      font-family: var(--font-inter);
      font-size: var(--text-headline-size);
      font-weight: var(--text-headline-weight);
      letter-spacing: var(--text-headline-tracking);
      line-height: var(--text-headline-leading);
      color: var(--label-primary);
      margin-top: 1.5rem;
      margin-bottom: 0.75rem;
    }

    /* h5, h6: text-subheadline-emphasized */
    & h5, & h6 {
      font-family: var(--font-inter);
      font-size: var(--text-subheadline-size);
      font-weight: var(--text-subheadline-emphasized-weight);
      letter-spacing: var(--text-subheadline-tracking);
      line-height: var(--text-subheadline-leading);
      color: var(--label-primary);
      margin-top: 1.5rem;
      margin-bottom: 0.75rem;
    }

    & a {
      color: var(--accent-blue-main);
      text-decoration: underline;
      transition: color 0.2s ease;
    }

    & a:hover {
      color: var(--accent-blue-light);
    }

    /* Lists: Base styles - exclude .not-prose descendants */
    & ul:not(.not-prose *), & ol:not(.not-prose *) {
      font-family: var(--font-inter);
      font-size: var(--text-body-size);
      font-weight: var(--text-body-weight);
      letter-spacing: var(--text-body-tracking);
      line-height: var(--text-body-leading);
      color: var(--label-primary);
      margin-top: 1.5rem;
      margin-bottom: 1.5rem;
      margin-left: 0;
      padding-left: 0;
      list-style-type: none;
    }

    /* Unordered lists: Accent colored bullets */
    & ul:not(.not-prose *) {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    & ul:not(.not-prose *) > li {
      position: relative;
      padding-left: 1.5rem;
      line-height: 1.6;
    }

    & ul:not(.not-prose *) > li::before {
      content: "";
      position: absolute;
      left: 0;
      top: 0.6em;
      width: 6px;
      height: 6px;
      background-color: var(--accent-blue-main);
      border-radius: 50%;
    }

    /* Ordered lists: Colored numbered circles */
    & ol:not(.not-prose *) {
      counter-reset: list-counter;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    & ol:not(.not-prose *) > li {
      position: relative;
      padding-left: 2.5rem;
      line-height: 1.6;
      counter-increment: list-counter;
    }

    & ol:not(.not-prose *) > li::before {
      content: counter(list-counter);
      position: absolute;
      left: 0;
      top: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 1.75rem;
      height: 1.75rem;
      background-color: var(--accent-blue-main);
      color: var(--background-primary);
      border-radius: 50%;
      font-weight: 600;
      font-size: 0.8125rem;
    }

    /* Nested lists - simpler styling */
    & li:not(.not-prose *) > ul:not(.not-prose *),
    & li:not(.not-prose *) > ol:not(.not-prose *) {
      margin-top: 0.75rem;
      margin-bottom: 0.5rem;
      margin-left: 0.5rem;
      gap: 0.5rem;
    }

    & li:not(.not-prose *) > ul:not(.not-prose *) > li::before {
      width: 5px;
      height: 5px;
      background-color: var(--accent-blue-light);
      opacity: 0.7;
    }

    & li:not(.not-prose *) > ol:not(.not-prose *) > li::before {
      width: 1.5rem;
      height: 1.5rem;
      font-size: 0.75rem;
      background-color: var(--accent-blue-light);
    }

    /* Blockquote: custom size for emphasis */
    & blockquote p {
      font-family: var(--font-inter);
      font-size: 20px;
      font-weight: 400;
      font-style: italic;
      letter-spacing: var(--text-body-tracking);
      line-height: 1.5;
      border-left: 4px solid var(--accent-blue-main);
      padding-left: 1.5rem;
      padding-right: 1.5rem;
      padding-top: 1.5rem;
      padding-bottom: 1.5rem;
      margin-top: 2rem;
      margin-bottom: 2rem;
      color: var(--label-secondary);
      background-color: var(--background-secondary);
      border-radius: 12px;
    }

    /* Inline code: text-footnote */
    & code {
      font-family: var(--font-inter);
      font-size: var(--text-footnote-size);
      font-weight: var(--text-footnote-weight);
      letter-spacing: var(--text-footnote-tracking);
      line-height: var(--text-footnote-leading);
      color: var(--accent-pink-main);
      background-color: var(--background-secondary);
      padding: 0.125rem 0.5rem;
      border-radius: 0.25rem;
    }

    & pre {
      background-color: var(--background-secondary);
      padding: 1.5rem;
      border-radius: 0.5rem;
      margin-top: 1.5rem;
      margin-bottom: 1.5rem;
      overflow-x: auto;
    }

    & pre code {
      background-color: transparent;
      padding: 0;
      color: var(--label-primary);
      font-size: 14px;
    }

    & img {
      border-radius: 16px;
      margin-top: 2rem;
      margin-bottom: 0.5rem;
      width: 100%;
      height: auto;
    }

    /* Image caption: text-footnote-italic */
    & img + em,
    & img + i {
      display: block;
      text-align: center;
      font-family: var(--font-inter);
      font-size: var(--text-footnote-size);
      font-weight: var(--text-footnote-weight);
      letter-spacing: var(--text-footnote-tracking);
      line-height: var(--text-footnote-leading);
      color: var(--label-secondary);
      margin-top: 0.5rem;
      margin-bottom: 2rem;
      font-style: italic;
    }

    & hr {
      border: none;
      border-top: 1px solid var(--border);
      margin-top: 3rem;
      margin-bottom: 3rem;
    }

    & strong, & b {
      font-weight: 500;
      color: var(--label-primary);
    }

    & em, & i {
      font-style: italic;
    }

  }
}

/* Gradient utility classes */
.gradient-text {
  background: var(--gradient-blue);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.gradient-border-wrapper {
  background: var(--gradient-border);
}

.gradient-button {
  font-family: var(--font-inter);
  background: var(--gradient-primary);
  color: var(--system-grey100);
  padding: 12px 28px;
  border-radius: 50px;
  font-weight: 600;
  font-size: 15px;
  transition: all 0.3s ease;
  display: inline-block;
  text-decoration: none;
  border: none;
  cursor: pointer;
  box-shadow: 0 4px 20px color-mix(in srgb, var(--accent-purple-main) 30%, transparent);
}

.gradient-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 30px color-mix(in srgb, var(--accent-purple-main) 40%, transparent);
  background: linear-gradient(135deg, var(--accent-purple-light), var(--accent-blue-light));
}
